# Linear-TimeTable-solver

Timetable generating algorithm for university schedule implemented in a linear method using Typescript.

## Intro

One of a possible solution for generating a class schedule at university level based on multi-dimensional arrays. The success of solution is estimated on fulfillment of given constraints and criteria. Results of testing the algorithm show that all hard constraints are satisfied, while additional criteria are optimized to a certain extent.

## Problem

Finding a viable solution that can facilitate generating schedule for university (adjusted to ` Faculty of SBBU, SBA`).

Each class on faculty is represented as section (lasts arbitrary number of hours). For conducting every class required are: teacher, classroom, start time, subject and subjects credit hours, section which attend the class. It is also know in advance which groups attend which class and all classrooms are the same size (each group can fit to a classroom). Teaching is done on faculty from 9AM until 3PM on each work day with hour of lunch break from 12pm to 1pm.

> genetic algorithms not a option for my problem because my algorithm will be implement in a campus management system that was based on departmental order, where head of department have the authority to generate timetable an any time. the problem with genetic algorithm was newly created timetables was colliding with previously generated timetables. lets take a scenario, if department "A" wants to generate class schedule but their a teacher which takes class in department "B". so through genetic algorithm department "A" schedule can colliding with department "B" schedule.

**Input data**
need to specify few information like batches, instructors, room, and subjects.

**Output data**
will be provided by perfectly scheduled classes for the given data sets.

## Constraints

1. Resources can not overlap time wise
   - No teacher can hold two classes at the same time.
   - No section can listen for two classes at the same time
   - No classroom can receive two classes at the same time
   - No subject should exceed their credit limit
2. Class should take place in one of the allowed section
3. create a unique timetable that don't interfere with the previously generated timetables

## Solution

To solve all the above constraints, we use a linear approach by creating a multi-dimensional array in every room, instructor and batch section. random subject will be pick from their current subject list and a availability calender is generated by checking rooms, instructors, then a suitable slot is randomly allotted for that subject. when a slot is alloted in a sections calender respected slots are also been booked in both rooms and subject instructors calender. This process is repeated until all the slots in the sections is filled. Through this simple approach we not only get a sections timetable but every room, and instructor well get a weekly activity calender.

## Usage

provide data sets for algorithm.

### 1. Rooms

Edit file in `src/imports/room.ts` and replace dummy data with your in `DATA` const.

```typescript
   const DATA: ImportPattern[] = [
      ...
   ];
```

Syntax of room object is like:

```typescript
   {
      name: room name as String,
      type: 'classroom' | 'lab',
   },
```

### 2. Subject

Edit file in `src/imports/subjects.ts` and replace dummy data with your in `DATA` const.

```typescript
   const DATA: ImportPattern[] = [
      ...
   ];
```

Syntax of room object is like:

```typescript
{
   name: Subject Name as String ,
   semester: 1 | 2 | 3 | 4 | 5 | 6 | 7 |  ,
   credits: credit hours as Number ,
   department: department Name as String ,
   type: 'class' | 'lab' as String ,
},
```

### 3. Instructor

Edit file in `src/imports/instructors.ts` and replace dummy data with your in `DATA` const.

```typescript
   const DATA: ImportPattern[] = [
      ...
   ];
```

Syntax of room object is like:

```typescript
{
   name: instructor name as string ,
},
```

### 4. Batches

Edit file in `src/imports/batches.ts` and replace dummy data with your in `DATA` const.

```typescript
   const DATA: ImportPattern[] = [
      ...
   ];
```

Syntax of room object is like:

```typescript
{
   year: Number ,
   semester: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 as SemestersOptions ,
   labs?: String[] , // same name of the room
   sections: {
      name: 'A' | 'B' | 'C' | 'D' | 'E' | 'F' | 'G' | 'H' | I' as SectionNames ,
      room: String , // same name of the room
      subjects: [
         subject name as String ,
         "class" | "lab",
         instructor name as String
      ][] ,
   }[] ,
},
```
Running ```npm start``` runs the code executing the algorithm for the data.

## Output
output will be printed in the terminal.

```
   ┌─────────┬───────┬─────────┬──────────┐
   │ (index) │ BATCH │ SECTION │ SEMESTER │
   ├─────────┼───────┼─────────┼──────────┤
   │    0    │ 2022  │   'B'   │    1     │
   └─────────┴───────┴─────────┴──────────┘
   ┌─────────┬──────────┐
   │ (index) │   DAY    │
   ├─────────┼──────────┤
   │    0    │ 'Monday' │
   └─────────┴──────────┘
   ┌─────────┬────────────────────────────┬─────────┬─────────────────┬─────────┐
   │ (index) │          subject           │  type   │   instructor    │  room   │
   ├─────────┼────────────────────────────┼─────────┼─────────────────┼─────────┤
   │  09:00  │ 'Introduction to Computer' │ 'class' │ 'instructor-03' │ 'BBA05' │
   │  10:00  │   'Arabic/Chinese etc I'   │ 'class' │ 'instructor-02' │ 'BBA05' │
   │  11:00  │            '-'             │   '-'   │       '-'       │   '-'   │
   │  01:00  │            '-'             │   '-'   │       '-'       │   '-'   │
   │  02:00  │   'Arabic/Chinese etc I'   │ 'class' │ 'instructor-02' │ 'BBA05' │
   └─────────┴────────────────────────────┴─────────┴─────────────────┴─────────┘
   ┌─────────┬───────────┐
   │ (index) │    DAY    │
   ├─────────┼───────────┤
   │    0    │ 'Tuesday' │
   └─────────┴───────────┘
   ┌─────────┬────────────────────────────┬─────────┬─────────────────┬────────────────┐
   │ (index) │          subject           │  type   │   instructor    │      room      │
   ├─────────┼────────────────────────────┼─────────┼─────────────────┼────────────────┤
   │  09:00  │ 'Introduction to Computer' │ 'class' │ 'instructor-03' │    'BBA05'     │
   │  10:00  │            '-'             │   '-'   │       '-'       │      '-'       │
   │  11:00  │ 'Introduction to Computer' │  'lab'  │ 'instructor-03' │ 'Software-lab' │
   │  01:00  │     'Islamic Studies'      │ 'class' │ 'instructor-05' │    'BBA05'     │
   │  02:00  │   'Arabic/Chinese etc I'   │ 'class' │ 'instructor-02' │    'BBA05'     │
   └─────────┴────────────────────────────┴─────────┴─────────────────┴────────────────┘
   ┌─────────┬─────────────┐
   │ (index) │     DAY     │
   ├─────────┼─────────────┤
   │    0    │ 'Wednesday' │
   └─────────┴─────────────┘
   ┌─────────┬────────────────────────────┬─────────┬─────────────────┬─────────┐
   │ (index) │          subject           │  type   │   instructor    │  room   │
   ├─────────┼────────────────────────────┼─────────┼─────────────────┼─────────┤
   │  09:00  │    'Contemporary World'    │ 'class' │ 'instructor-09' │ 'BBA05' │
   │  10:00  │     'Pakistan Studies'     │ 'class' │ 'instructor-04' │ 'BBA05' │
   │  11:00  │        'English-I'         │ 'class' │ 'instructor-01' │ 'BBA05' │
   │  01:00  │ 'Introduction to Computer' │ 'class' │ 'instructor-03' │ 'BBA05' │
   │  02:00  │     'Islamic Studies'      │ 'class' │ 'instructor-05' │ 'BBA05' │
   └─────────┴────────────────────────────┴─────────┴─────────────────┴─────────┘
   ┌─────────┬────────────┐
   │ (index) │    DAY     │
   ├─────────┼────────────┤
   │    0    │ 'Thursday' │
   └─────────┴────────────┘
   ┌─────────┬────────────────────────────┬─────────┬─────────────────┬────────────────┐
   │ (index) │          subject           │  type   │   instructor    │      room      │
   ├─────────┼────────────────────────────┼─────────┼─────────────────┼────────────────┤
   │  09:00  │            '-'             │   '-'   │       '-'       │      '-'       │
   │  10:00  │     'Pakistan Studies'     │ 'class' │ 'instructor-04' │    'BBA05'     │
   │  11:00  │    'Contemporary World'    │ 'class' │ 'instructor-09' │    'BBA05'     │
   │  01:00  │ 'Introduction to Computer' │  'lab'  │ 'instructor-03' │ 'Software-lab' │
   │  02:00  │            '-'             │   '-'   │       '-'       │      '-'       │
   └─────────┴────────────────────────────┴─────────┴─────────────────┴────────────────┘
   ┌─────────┬──────────┐
   │ (index) │   DAY    │
   ├─────────┼──────────┤
   │    0    │ 'Friday' │
   └─────────┴──────────┘
   ┌─────────┬──────────────────────┬─────────┬─────────────────┬─────────┐
   │ (index) │       subject        │  type   │   instructor    │  room   │
   ├─────────┼──────────────────────┼─────────┼─────────────────┼─────────┤
   │  09:00  │         '-'          │   '-'   │       '-'       │   '-'   │
   │  10:00  │ 'Contemporary World' │ 'class' │ 'instructor-09' │ 'BBA05' │
   │  11:00  │     'English-I'      │ 'class' │ 'instructor-01' │ 'BBA05' │
   │  01:00  │         '-'          │   '-'   │       '-'       │   '-'   │
   │  02:00  │     'English-I'      │ 'class' │ 'instructor-01' │ 'BBA05' │
   └─────────┴──────────────────────┴─────────┴─────────────────┴─────────┘
```
